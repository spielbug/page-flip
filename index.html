<!DOCTYPE html>
<html lang="ko">
	<head>
		<!--[if lte IE 8]>
		<![endif]-->
		<meta charset="utf-8">
		<!-- no cache -->
		<META http-equiv="Expires" content="-1">
		<META http-equiv="Pragma" content="no-cache">
		<META http-equiv="Cache-Control" content="No-Cache">
		<!-- no cache  end -->

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
		<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	
		<link type="text/css" href="css/commonCross.css" rel="stylesheet" >
		<link type="text/css" href="css/thumbnail.css" rel="stylesheet" >
		<link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" />

		<link type="text/css" href="css/memo.css" rel="stylesheet" >
		<link type="text/css" href="css/link.css" rel="stylesheet" >
		<link type="text/css" href="css/popupLayer.css" rel="stylesheet" >
		<link type="text/css" href="css/jquery-ui.min.css" rel="stylesheet" >
		<link type="text/css" href="css/slider.css" rel="stylesheet" >

		<script type="text/javascript" src="libs/jquery.js"></script>
		<script type="text/javascript" src="libs/jquery-ui.js"></script>

		<!-- jquey mobile loading-->
		<script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

		<script type="text/javascript" src="js/API/setURL.js"></script>
		<script type="text/javascript" src="js/CONTROL/control.js"></script>
		<script type="text/javascript" src="js/LMS/data.js"></script>
	</head>
	<body>
	<!-- GET DATA -->
		<form id="getForm" name="getForm" method="post" style="display:none;">
			<input id="ABSPATH" value=""><!-- // 절대 중간경로 설정, native app 으로 보내는 주소 -->
			<input id="ABSTITLE" value="중학교 과학1 CD1"><!-- // opf title과 별개로 책 제목을 설정하고 싶을 때 -->
			<input id="DIRFS" value="epub/"><!-- // 뒤에 슬래쉬를 포함한 펍의 상위 경로[ titanbook/ ] -->
			<!--input id="DIRFS" value="../../ftp/titanbooks/_good/"--><!-- // 뒤에 슬래쉬를 포함한 펍의 상위 경로[ titanbook/ ] -->
			<input id="EPUBN" value=""><!-- // 뒤에 슬래쉬를 포함한 펍의 상세 폴더명 [ book1/ ] -->
			<!--input id="EPUBN" value="329/"--><!-- // 뒤에 슬래쉬를 포함한 펍의 상세 폴더명 [ book1/ ] -->

			<!--input id="DIRFS" value="http://www.cje-academy.co.kr/upload/ksq/epub/">
			<input id="EPUBN" value="22710/"-->
			<input id="ORDER" value="0"><!-- // 구매여부 [ 0 : 비구매, 1 : 구매 ] -->
			<input id="FPAGE" value="0"><!-- // 미리보기 페이지 수 [ 0 : 모두보기, n : 최대페이지 ]-->
			<input id="VPAGE" value="1"><!-- // 최초 페이지 번호 [ 1 : 기본, n : 보기 페이지 ]-->
			<input id="MAXDATE" value=""><!-- // 최종 구독 가능 시간 [ "" : 기본, "YYYYMMDDttmmss" : 최종 구독 가능 시간 ]-->

			<input id="BGTYPE" value="color"><!-- // 바탕타입 지정 [ color : 색상지정, image : 패턴 이미지 지정 ] -->
			<input id="BGCOLOR" value="e8e8ea"><!-- // BGTYPE 이 color 이면 필요한 색상 #없이 숫자로 지정 [ e8e8ea ] -->
			<input id="BGURL" value="images/bg/bg_pattern.gif"><!-- // 배경이미지 경로 [업로드 시 확장자는 gif] -->
			<input id="MENUSPEED" value="500"><!-- // 메뉴 속도 [0~1000] 기본은 300 [ 최소값은 0 최대값은 1000 ] -->
			<input id="UITYPE" value="9MENU5"><!-- // 클라이언트별 등록 가능. default => 8MENU4 -->
			<input id="UI_HOLD" value="0"><!-- // 자동으로 닫히는 UI를 고정으로 설정 [ 0 : 기본, 1 : 고정 ] -->
			<input id="ACOLOR" value="e8e8ea_|@|_e8e8ea"><!-- // 화살표 색상  _|@|_ 구분하여 앞에는 아웃컬러  뒤에는 오버컬러!-->
			<input id="LOGOURL" value="images/book.jpg"><!-- // 빈페이지 로고 경로 지정 [ 기본 주소 : images/fdeskLogo.png, "" 면 없음 ] -->
			<input id="GRAWIDTH" value="50"><!-- // 페이지 안쪽 그라데이션 넓이 지정(px) [ 50 : 기본값, n : 변경 값 ] -->
			<input id="ZOOM_RATE" value="150_|@|_200"><!-- // 줌 비율 설정 [ _|@|_ 구분하여 첫번째, 두번째 기본은 (150, 200)] -->
			<input id="USE_COMMENT" value="false"><!-- // 댓글 게시판 사용 여부 -->

			<input id="BOOK_ID" value=""><!-- // BOOK ID (폴더명 또는 유일한 KEY)-->
			<input id="BOOK_NAME" value=""><!-- // BOOK 제목-->
			<input id="BOOK_COVER" value="cover.png"><!-- // BOOK 표지 이미지 작은 이미지-->
			<input id="BOOK_AUTHOR" value=""><!-- // BOOK 저자-->

			<input id="AND_KEY" value=""><!-- // 구글 마켓에 등록된 앱의 스키마 와 아디 입력! 구분자 _|@|_ 앞에 스키마 뒤에 ID! 없다면 입력 하지 않는다. -->
			<input id="IOS_KEY" value=""><!-- // 아이폰 구글 내용과 동일-->
			<input id="WIN_KEY" value=""><!-- // 윈도우 구글 내용과 동일 -->

			<input id="USE_SYNC" value="false"><!-- // 데이터 싱크 사용 여부 -->
			<input id="USE_BOOKCONTENTS" value="true"><!-- // 북 컨텐츠 사용 여부 -->
			<input id="USE_AND" value="false"><!-- // 안드로이드 앱 사용 여부 -->
			<input id="USE_IOS" value="false"><!-- // 애플 앱 사용 여부 -->
			<input id="USE_WIN" value="false"><!-- // 윈도우 앱 사용 여부 -->
			<input id="USE_SHARE" value="0"><!-- // 공유하기 사용 여부 [0 (비공유) 1 (공유)] -->
			<input id="USE_LOGIN" value="0"><!-- // 로그인 사용 여부 [0 (비사용) 1 (사용)] -->

			<input id="IS_DOWNLOAD" value="false"><!-- // 다운로드 체크 [ false : 뷰어, true : 다운로드] -->
			<input id="BOOKDOWNLOAD_URL" value=""><!-- // 책 다운로드 url [ domain을 포함한 fullpath ] -->

			<input id="PROGRESS_RATE" value="false"><!-- // 진도율 사용 여부 -->
			<input id="PROGRESS_RATE_TYPE" value="OutOfOrder"><!-- // 진도율 타입 [순차 : Order, 비순차 : OutOfOrder] -->
			<input id="PROGRESS_RATE_DATA" value=""><!-- // 비순차 진도 데이터 -->

			<input id="OWNER" value="0"><!-- // 책 제작자 확인 [0 (손님) 1 (제작자)] -->
			<input id="USER_LOGIN_KEY" value=""><!-- // 유저 로그인 여부와 유저키!    "" 빈값은 로그아웃상태이면 어떤 숫자가 있다면 회원키! -->

			<input id="FILE_DOWNLOAD_URL" value=""><!-- // 파일 다운로드 링크 [ "" : 기본, 해당링크 삽입 시 버튼 노출 ] -->
			<input id="RETURN_URL" value=""><!-- // SSG 창닫기 링크 -->
		</form>
		<!-- //GET DATA -->

		<!-- SELECT VIEWTYPE -->
		<div id="select_viewer"></div>
		<!-- //SELECT VIEWTYPE -->

		<!-- UI START -->
		<div id="container" style="display:none;">
			<comment><!-- HEADER START -->
				<div id="header_container">
					<div id="header">
						<table style="width: 100%;">
							<tr id="topMenuTableTr"></tr>
						</table>
					</div>

					<div id="header_menu_detail" >
						<div id="draw_detail" ></div>
					</div>

					<div id="header_toggle">
						<img id="btn_menu" src="images/topArrowUp_btn_01.png" alt="메뉴버튼" title="메뉴버튼">
					</div>
					<div id="bookmark_container"></div>
				</div>
				<!-- HEADER END -->

				<!-- CONTENT START -->
				<div id="content">
					<div id="pages">
						<div id="fb" style="border:1px blue solid;">
							<iframe id='leftPageFrame' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>
							<iframe id='rightPageFrame' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>
							<!--<iframe id='page1' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>-->
							<!--<iframe id='page2' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>-->
							<!--<iframe id='page3' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>-->
							<!--<iframe id='page4' frameborder='0' scrolling='no' style='visibility: hidden; overflow: hidden;'></iframe>-->
						</div>
<!--
						<div id='gras'>
							<div class='graLeft'><img src='images/common/page_gradient_left.png'></div>
							<div class='graRight'><img src='images/common/page_gradient_right.png'></div>
						</div>
-->
						<!-- add container received events for swiping-->
						<div  id="drawing_container" >
							<svg id='drawingSVG' version='1.1' x='0px' y='0px' width='768px' height='1024px' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
								<mask id='svgMask' x='0' y='0' width='0' height='0' maskUnits='userSpaceOnUse' maskContentUnits='userSpaceOnUse'>
									<rect id='maskRect' x='0' y='0' width='0' height='0' fill='#FFFFFF'></rect>
								</mask>
								<g id='svgDrawGroup' mask='url(#svgMask)'></g>
							</svg>
						</div>
					</div>
					<div id="components"></div>
					<div id="fb-control" style="position:absolute; left:0px; top:0px; width:100%;height:100%; background:rgba(0,0,0,0);"></div>
				</div>
				<!--<div class ="page_action_container"></div>-->
				<!-- CONTENT END -->

				<!-- ARROW START -->
				<div id="ISright"></div>
				<div id="ISleft"></div>
				<!-- ARROW END -->

				<!-- FOOTER START -->
				<div id="currentModeNotice"></div>
				<div id="pageThumbnailContainer"></div>
				<div id="footer_container">
					<!--div id="miniMap"></div-->
					<table style="width: 100%;">
						<tr id="bottomMenuTableTr"></tr>
					</table>
				</div>
				<!-- FOOTER END -->

				<!-- POPUP START -->
				<div id="way_popup">
					<img src="images/common/movement_popup.png" >
				</div>
				<!-- POPUP END --></comment>

		</div>
		<!-- UI END -->

		<!-- THUMBNAIL PAGE START -->
		<div id="thumb_container">
			<div id="thumbnail_header"><img id="thumbnail_close" src="images/common/popup_btn_close.png" alt="닫기" title="닫기"></div>
			<div id="thumbnail_contents">
				<div id="thumbnail"></div>
			</div>
		</div>
		<!-- THUMBNAIL PAGE END -->
		<!-- Popup Layer START-->
		<div id="closePopupTemplet"></div>
		<div id="memoDeleteTemplet"></div>
		<div id="linkDeleteTemplet"></div>
		<div id="connectionErrorTemplet"></div>
		<div id="drawDeleteTemplet"></div>
		<div id="indexListTemplet" class="indexListTemplet"></div>
		<div id="searchListTemplet" class="searchListTemplet"></div>
		<div id="morePopupTemplet"></div>
		<!-- Popup Layer END-->

		<div id="tempPageText"></div>

		<!-- Comment Board START -->
		<div id="commentBoard">
			<div id="commentBoard_top">
                <ul id="comment_menu">
                    <li id="comment_title">리뷰</li>
                    <li id="comment_close"></li>
                    <li id="comment_write"></li>
                </ul>
            </div>
            <div id="commentBoard_content"></div>
		</div>
		<!-- Comment Board END -->

		<div style="display: none;">
			<iframe id="preloader1"></iframe>
			<iframe id="preloader2"></iframe>
		</div>

		<script type="text/javascript" src="js/MODEL/data/status.js"></script>
		<script  type='text/javascript' src="libs/kakao.js"></script>
		<script data-main="js/CONTROL/index" src="libs/require.js"></script>
	<script>
		var Flip = function(){
            var _w, _h, _flipper, _left, _right;
            function make(container) {
                container = $(container)
                _w = $('#leftPageFrame').width()
                _h = $('#leftPageFrame').height()
                container.width(_w*2+5)
                container.height(_h)
                container.css({
                    position : 'relative'
                })

                // make side
                _left = makeDiv(_w, _h, 'left-side')
                _left.css({
                    position:'absolute',
                    border:'blue 2px dashed'
                })
                _right = makeDiv(_w, _h, 'right-side')
                _right.css({
                    position:'absolute',
                    left:_w+'px',
                    border:'blue 2px dashed'
                })

                // backup
                var htmlLeft = $('#leftPageFrame')[0].contentDocument.body.innerHTML
                var htmlRight = $('#rightPageFrame')[0].contentDocument.body.innerHTML

                var childs = container.children()
                var len=childs.length
                for(var i = 0; i<len; i++) {
                    var child = $(childs[len-i-1]) // access in reversed order
                    var html = child[0].contentDocument.body.innerHTML
                    // make wrapper
                    var wrapper=$('<DIV>').addClass('fb-wrapper')
                    wrapper.css({
                        position : 'absolute',
                        width : _w,
                        height: _h
                    })
                    _right.append(wrapper)
                    child.detach();
                    child.appendTo(wrapper)
                    var grad=$('<div>').addClass('gradient')
                    grad.css({
                        position : 'absolute',
                        width : _w,
                        height: _h
                    })
                    grad.appendTo(wrapper)

                    console.log(child[0].contentDocument)
                    //wrapper.append(child)
                    //console.log(child)
                }


                container.append(_left)
                container.append(_right)
                makeFlipper(container)

                //restore
                $('#rightPageFrame').css('margin-left','0')
                $('#leftPageFrame')[0].contentDocument.body.innerHTML = htmlLeft
                $('#rightPageFrame')[0].contentDocument.body.innerHTML = htmlRight

                startFlip('#leftPageFrame','#rightPageFrame')
                return 'done'
            }

            function makeFlipper(container) {
                if(!container.fn) container = $(container)
                // div for flipping
                _flipper = makeDiv(_w, _h, 'flipper')
                _flipper.css({
                    'border':'1px solid red',
                    'position':'absolute',
                    'overflow':'hidden'
                })
                container.append(_flipper)
            }

            function makeDiv(w, h, id) {
                var div = $('<div>')
                div.attr('id', id)
                div.width(w)
                div.height(h)
                return div
            }
            function deg2rad(deg) {
                return deg/180*Math.PI
            }

            function rad2deg(rad) {
                return rad*180/Math.PI
            }

            function startFlip(div1, div2) {
                //backup html
                var htmlLeft = $('#leftPageFrame')[0].contentDocument.body.innerHTML
                var htmlRight = $('#rightPageFrame')[0].contentDocument.body.innerHTML

                $('#leftPageFrame').parent().appendTo(_flipper)
                $('#rightPageFrame').parent().appendTo(_flipper)


                $('#leftPageFrame')[0].contentDocument.body.innerHTML = htmlLeft
                $('#rightPageFrame')[0].contentDocument.body.innerHTML = htmlRight
            }

            function endFlip(div1, div2) {
                div1 = div1.fn?div1:$(div1)
                div2 = div2.fn?div2:$(div2)

                var htmlLeft = $('#leftPageFrame')[0].contentDocument.body.innerHTML
                var htmlRight = $('#rightPageFrame')[0].contentDocument.body.innerHTML

                div1.parent().css({
                    transform:'',
                    left:'0',
                    top:'0',
                })

                div2.parent().css({
                    transform:'',
                    left:'0',
                    top:'0',
                })

                $('#leftPageFrame').parent().appendTo(_left)
                $('#rightPageFrame').parent().appendTo(_right)


                $('#leftPageFrame')[0].contentDocument.body.innerHTML = htmlLeft
                $('#rightPageFrame')[0].contentDocument.body.innerHTML = htmlRight

            }

            function getRotatedSize(w, h, angle) {
                var x1 = -w/2
                var x2 = w/2
                var y1 = -h/2
                var y2 = h/2
                var w = Math.max(x2*Math.cos(angle)-y2*Math.sin(angle),
                        x2*Math.cos(angle)-y1*Math.sin(angle))*2
                var h = Math.max(x1*Math.sin(angle)+y2*Math.cos(angle),
                        x2*Math.sin(angle)+y2*Math.cos(angle))*2
                return {'w':w, 'h':h }
            }


            function reformFlipper(w, h, angle, distance) {
                w = w | _w
                h = h | _h
                $('#rightPageFrame').css('margin-left','0')
                //console.log(w,h,angle,distance)
                var rs = getRotatedSize(w, h, angle)
                //_flipper.removeAttr('style');

                // limit distance
                var pageWidth = Math.abs(1/Math.cos(angle)*distance)
                if(pageWidth>_w) distance = Math.sign(distance) * _w * Math.abs(Math.cos(angle))

                var fPos = {}
                if(distance > 0) {
                    fPos.left = _left.css('left').replace('px','')
                    fPos.top = _left.css('top').replace('px','')
                }
                else {
                    fPos.left = _right.css('left').replace('px','')
                    fPos.top = _right.css('top').replace('px','')

                }

                _flipper.css({
                    'left':(fPos.left-(rs.w-_w)/2),
                    'top':(fPos.top-(rs.h-_h)/2)
                })

                _flipper.width(rs.w)
                _flipper.height(rs.h)
                _flipper.css({
                    'transform':'rotateZ('+(angle)+'rad) translate('+(distance)+'px)',
                    //'transform':'rotateZ('+rad2deg(angle)+'deg)',
                })

                reformDiv('#leftPageFrame', rs.w, rs.h, -angle, distance)
                if(distance>0) reformFlippingDivLeft('#rightPageFrame', rs.w, rs.h, -angle, distance)
                else reformFlippingDivRight('#rightPageFrame', rs.w, rs.h, -angle, distance)
            }

            function reformDiv(div, dw, dh, angle, distance) {
                if(!div.fn) div = $(div)
                var top = (dh-_h)/2
                var left = (dw-_w)/2
                var wrapper = div.parent()
                wrapper.css({
                    'top':'0px',
                    'left': '0px',
                    'width': _w,
                    'height': _h,
                    'z-index':1,
                    'transform':'translate('+(-distance+left)+'px, '+top+'px) rotateZ('+(angle)+'rad)'
                    //'transform':'translate('+left+'px, '+top+'px) rotateZ('+rad2deg(angle)+'deg)',
                })
            }

            function reformFlippingDivLeft(div, rw, rh, angle, distance) {
                if(!div.fn) div = $(div)
                var topMargin = (rh-_h)/2

                var rcx = _w - (Math.cos(angle)*_w+distance)/Math.cos(angle)
                rcx = _w + rcx
                var rcy = 0
                var fdTop = -Math.tan(angle)*(Math.cos(angle)*_w-distance)
                var fdLeft = -rcx
//console.log(distance, rcx, fdLeft, fdTop)
                if(angle>0) {
                    fdTop = topMargin*2+fdTop
                    rcy = _h;
                }

                var wrapper = div.parent()
                wrapper.css({
                    'z-index':2,
                    'width': _w,
                    'height': _h,
                    'transform':'translate('+fdLeft+'px, '+fdTop+'px) rotateZ('+(-angle)+'rad)',
                    'transform-origin':rcx+'px '+rcy+'px',
                })
                gradientFlippingDiv(wrapper, angle, distance)
            }

            function reformFlippingDivRight(div, rw, rh, angle, distance) {
                if(!div.fn) div = $(div)
                var topMargin = (rh-_h)/2

                var rcx = _w - (Math.cos(angle)*_w+distance)/Math.cos(angle)
                //var rcx = -distance
                var rcy = 0
                var fdTop = Math.tan(angle)*(Math.cos(angle)*_w+distance)
                var fdLeft = rw-rcx
//console.log(distance, rcx, fdLeft)
                if(angle<0) {
                    fdTop = topMargin*2+fdTop
                    rcy = _h;
                }

                var wrapper = div.parent()
                wrapper.css({
                    'z-index':2,
                    'width': _w,
                    'height': _h,
                    'transform':'translate('+fdLeft+'px, '+fdTop+'px) rotateZ('+(-angle)+'rad)',
                    'transform-origin':rcx+'px '+rcy+'px',
                })
                gradientFlippingDiv(wrapper, angle, distance)

            }

            function gradientFlippingDiv(div, angle, distance) {
                //console.log(div, angle, distance)
                var g = div.find('.gradient')

                if(distance>0) {
                    g.css({
                        background : 'linear-gradient('+(angle-Math.PI/2)+'rad, transparent 0px, transparent '+(distance-150)
                        +'px, rgba(0,0,0,0.2) '+(distance-50)+'px, transparent '+(distance)+'px)'
                    })
                }
                else {
                    g.css({
                        background : 'linear-gradient('+(angle+Math.PI/2)+'rad, transparent 0px, transparent '+(-distance-150)
                        +'px, rgba(0,0,0,0.2) '+(-distance-50)+'px, transparent '+(-distance)+'px)'
                    })
                }
            }

            EasingFunctions = {
                // no easing, no acceleration
                linear: function (t) { return t },
                // accelerating from zero velocity
                easeInQuad: function (t) { return t*t },
                // decelerating to zero velocity
                easeOutQuad: function (t) { return t*(2-t) },
                // acceleration until halfway, then deceleration
                easeInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },
                // accelerating from zero velocity
                easeInCubic: function (t) { return t*t*t },
                // decelerating to zero velocity
                easeOutCubic: function (t) { return (--t)*t*t+1 },
                // acceleration until halfway, then deceleration
                easeInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },
                // accelerating from zero velocity
                easeInQuart: function (t) { return t*t*t*t },
                // decelerating to zero velocity
                easeOutQuart: function (t) { return 1-(--t)*t*t*t },
                // acceleration until halfway, then deceleration
                easeInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },
                // accelerating from zero velocity
                easeInQuint: function (t) { return t*t*t*t*t },
                // decelerating to zero velocity
                easeOutQuint: function (t) { return 1+(--t)*t*t*t*t },
                // acceleration until halfway, then deceleration
                easeInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t }
            }

            function ease(easeFunc, stepFunc, msec, inc, step) {
                step=step|15
                if(inc<1) {
                    inc+=step/msec
                    var result = easeFunc(inc)
                    stepFunc(result)
                    setTimeout(function(){ease(easeFunc, stepFunc, msec, inc)}, step)
                }
                else {
                    stepFunc(1)
                    console.log('done')
                }
            }

            //make('#fb')

            var startPoint=undefined;
            $('#fb-control').on('mousedown',function(ev){
                ev.preventDefault()
                ev.stopPropagation()
                console.log(ev.pageX, ev.pageY)
                startPoint = {x:ev.pageX, y:ev.pageY}
                return false;
            })
            $('#fb-control').on('mousemove',function(ev){
                //console.log('control',ev.pageX,ev.pageY)
                if(startPoint) {
                    //ev.preventDefault()
                    //ev.stopPropagation()
                    var dx = ev.pageX-startPoint.x
                    var dy = ev.pageY-startPoint.y
                    var angle = Math.atan2(dy, dx)
                    var distance = Math.sqrt(dx*dx + dy*dy)*2
                    if(dx<0) {
                        distance=-distance
                        angle = Math.atan2(-dy, -dx)
                    }
                    reformFlipper(_w, _h, angle, distance)
                }
                //return false;
            })
            $('#fb-control').on('mouseup',function(ev) {
                ev.preventDefault()
                ev.stopPropagation()
                startPoint = undefined
                return false;
            })

            // iframe load function for event bubbling
            // 현재로서는 사용안함
			/*
			 $('iframe').load(function(evt) {
			 console.log(this.contentWindow)
			 this.contentWindow.onmousemove=function(ev) {
			 console.log('left',ev.pageX,ev.pageY)

			 }
			 })
			 */
			return {
			    make : make,

			}
		}
		_flip = Flip()
	</script>
	</body>
</html>
